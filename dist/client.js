/* Copyright (c) ORDBOK contributors. All rights reserved.                   */


var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@ordbok/core"),LINE_SEPARATOR="\n",PAIR_SEPARATOR="\t",Index=function(t){function e(n,r,o){return t.call(this,(n||"")+e.SUBFOLDER,r,o)||this}return __extends(e,t),e.parse=function(t){var e,n={};return t.split(LINE_SEPARATOR).forEach(function(t){-1!==t.indexOf(PAIR_SEPARATOR)&&(e=t.split(PAIR_SEPARATOR),e.length<2||(n[e[0]]=parseInt(e[1])))}),n},e.stringify=function(t){return Object.keys(t).map(function(e){return core_1.Utilities.getKey(e)+PAIR_SEPARATOR+t[e]}).join(LINE_SEPARATOR)},e.stringifyHeadlines=function(t){return t.join(LINE_SEPARATOR)},e.prototype.loadHeadlines=function(){return this.request(e.SUBFOLDER+"_"+e.FILE_EXTENSION).then(function(t){if(t instanceof Error||t.serverStatus>=400)throw new Error("HTTP "+t.serverStatus);return t.result.split(LINE_SEPARATOR)})},e.prototype.loadFileIndex=function(t){return this.request(e.SUBFOLDER+core_1.Utilities.getKey(t)+e.FILE_EXTENSION).then(function(t){return t instanceof Error||t.serverStatus>=400?{}:e.parse(t.result)}).catch(function(t){return console.error(t),{}})},e.FILE_EXTENSION=".txt",e.SUBFOLDER="index/",e}(core_1.Ajax);exports.Index=Index,define("@ordbok/index-plugin",["@ordbok/index-plugin/index"],function(t){return t}),define("@ordbok/index-plugin/index",function(){});
//# sourceMappingURL=client.js.map